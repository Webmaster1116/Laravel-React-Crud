(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[28],{523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getListFiles=t.getImage=t.getBase64=t.getAcceptTypeString=t.openFileDialog=void 0,t.openFileDialog=function(e){e.current&&e.current.click()},t.getAcceptTypeString=function(e){return e&&e.length>0?e.map((function(e){return"."+e})).join(", "):"image/*"},t.getBase64=function(e){var t=new FileReader;return new Promise((function(n){t.addEventListener("load",(function(){return n(String(t.result))})),t.readAsDataURL(e)}))},t.getImage=function(e){var t=new Image;return new Promise((function(n){t.addEventListener("load",(function(){return n(t)})),t.src=URL.createObjectURL(e)}))},t.getListFiles=function(e,n){for(var i=[],a=0;a<e.length;a+=1)i.push(t.getBase64(e[a]));return Promise.all(i).then((function(t){return t.map((function(t,i){var a;return(a={})[n]=t,a.file=e[i],a}))}))}},524:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_DATA_URL_KEY=t.INIT_MAX_NUMBER=t.DEFAULT_NULL_INDEX=void 0,t.DEFAULT_NULL_INDEX=-1,t.INIT_MAX_NUMBER=1e3,t.DEFAULT_DATA_URL_KEY="dataURL"},525:function(e,t,n){"use strict";var i=n(15),a=(n(0),n(495)),r=n(2),c=function(e){return Object(r.jsx)(a.a,Object(i.a)(Object(i.a)({},e),{},{className:"ant-avatar-".concat(e.type),children:e.text}))};t.a=function(e){var t=e.name,n=e.suffix,i=e.subTitle,a=e.id,s=e.type,l=e.src,o=e.icon,u=e.size,d=e.shape,f=e.gap,h=e.text,j=e.onNameClick;return Object(r.jsxs)("div",{className:"avatar-status d-flex align-items-center",children:[c({icon:o,src:l,type:s,size:u,shape:d,gap:f,text:h}),Object(r.jsxs)("div",{className:"ml-2",children:[Object(r.jsxs)("div",{children:[j?Object(r.jsx)("div",{onClick:function(){return j({name:t,subTitle:i,src:l,id:a})},className:"avatar-status-name clickable",children:t}):Object(r.jsx)("div",{className:"avatar-status-name",children:t}),Object(r.jsx)("span",{children:n})]}),Object(r.jsx)("div",{className:"text-muted avatar-status-subtitle",children:i})]})]})}},527:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function c(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}l((i=i.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,i,a,r,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){c.label=r[1];break}if(6===r[0]&&c.label<a[1]){c.label=a[1],a=r;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(r);break}a[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(s){r=[6,s],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),a=0;for(t=0;t<n;t++)for(var r=arguments[t],c=0,s=r.length;c<s;c++,a++)i[a]=r[c];return i};Object.defineProperty(t,"__esModule",{value:!0});var u=c(n(0)),d=n(523),f=n(528),h=n(524);t.default=function(e){var t=e.value,n=void 0===t?[]:t,a=e.onChange,r=e.onError,c=e.children,j=e.dataURLKey,v=void 0===j?h.DEFAULT_DATA_URL_KEY:j,b=e.multiple,p=void 0!==b&&b,m=e.maxNumber,O=void 0===m?h.INIT_MAX_NUMBER:m,y=e.acceptType,g=e.maxFileSize,x=e.resolutionWidth,_=e.resolutionHeight,N=e.resolutionType,I=e.inputProps,k=void 0===I?{}:I,T=n||[],w=u.useRef(null),L=u.useState(h.DEFAULT_NULL_INDEX),C=L[0],D=L[1],E=u.useState(null),A=E[0],S=E[1],U=u.useState(!1),F=U[0],V=U[1],J=u.useCallback((function(){return d.openFileDialog(w)}),[w]),M=u.useCallback((function(){D(h.DEFAULT_NULL_INDEX),J()}),[J]),X=u.useCallback((function(){null===a||void 0===a||a([])}),[a]),R=function(e){return s(void 0,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return[4,f.getErrorValidation({fileList:e,maxFileSize:g,maxNumber:O,acceptType:y,keyUpdate:C,resolutionType:N,resolutionWidth:x,resolutionHeight:_,value:T})];case 1:return(t=n.sent())?(S(t),null===r||void 0===r||r(t,e),[2,!1]):(A&&S(null),[2,!0])}}))}))},z=function(e){return s(void 0,void 0,void 0,(function(){var t,n,i,r,c;return l(this,(function(s){switch(s.label){case 0:return e?[4,d.getListFiles(e,v)]:[2];case 1:return(t=s.sent()).length?[4,R(t)]:[2];case 2:if(!s.sent())return[2];if(i=[],C>h.DEFAULT_NULL_INDEX)r=t[0],(n=o(T))[C]=r,i.push(C);else if(p)for(n=o(T,t),c=T.length;c<n.length;c+=1)i.push(c);else n=[t[0]],i.push(0);return null===a||void 0===a||a(n,i),[2]}}))}))},Y=u.useMemo((function(){return d.getAcceptTypeString(y)}),[y]);return u.default.createElement(u.default.Fragment,null,u.default.createElement("input",i({type:"file",accept:Y,ref:w,multiple:p&&C===h.DEFAULT_NULL_INDEX,onChange:function(e){return s(void 0,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,z(e.target.files)];case 1:return t.sent(),C>h.DEFAULT_NULL_INDEX&&D(h.DEFAULT_NULL_INDEX),w.current&&(w.current.value=""),[2]}}))}))},style:{display:"none"}},k)),null===c||void 0===c?void 0:c({imageList:T,onImageUpload:M,onImageRemoveAll:X,onImageUpdate:function(e){D(e),J()},onImageRemove:function(e){var t=o(T);Array.isArray(e)?e.forEach((function(e){t.splice(e,1)})):t.splice(e,1),null===a||void 0===a||a(t)},errors:A,dragProps:{onDrop:function(e){e.preventDefault(),e.stopPropagation(),V(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&z(e.dataTransfer.files)},onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.items&&e.dataTransfer.items.length>0&&V(!0)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),V(!1)},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDragStart:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.clearData()}},isDragging:F}))}},528:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function c(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}l((i=i.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,a,r,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){c.label=r[1];break}if(6===r[0]&&c.label<a[1]){c.label=a[1],a=r;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(r);break}a[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(s){r=[6,s],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorValidation=t.isMaxNumberValid=t.isAcceptTypeValid=t.isMaxFileSizeValid=t.isImageValid=t.isResolutionValid=void 0;var r=n(524),c=n(523);t.isResolutionValid=function(e,t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=1),!n||!i||!e.width||!e.height)return!0;switch(t){case"absolute":if(e.width===n&&e.height===i)return!0;break;case"ratio":var a=n/i;if(e.width/e.height===a)return!0;break;case"less":if(e.width<=n&&e.height<=i)return!0;break;case"more":if(e.width>=n&&e.height>=i)return!0}return!1},t.isImageValid=function(e){return!!e.includes("image")},t.isMaxFileSizeValid=function(e,t){return!t||e<=t},t.isAcceptTypeValid=function(e,t){if(e&&e.length>0){var n=t.split(".").pop()||"";if(e.findIndex((function(e){return e.toLowerCase()===n.toLowerCase()}))<0)return!1}return!0},t.isMaxNumberValid=function(e,t,n){if(0!==t&&!t)return!0;if(n===r.DEFAULT_NULL_INDEX){if(e<=t)return!0}else if(e<=t+1)return!0;return!1},t.getErrorValidation=function(e){var n=e.fileList,r=e.value,s=e.maxNumber,l=e.keyUpdate,o=e.acceptType,u=e.maxFileSize,d=e.resolutionType,f=e.resolutionWidth,h=e.resolutionHeight;return i(void 0,void 0,void 0,(function(){var e,i,j,v;return a(this,(function(a){switch(a.label){case 0:return e={},t.isMaxNumberValid(n.length+r.length,s,l)?[3,1]:(e.maxNumber=!0,[3,5]);case 1:i=0,a.label=2;case 2:return i<n.length?(j=n[i].file)?t.isImageValid(j.type)&&t.isAcceptTypeValid(o,j.name)?t.isMaxFileSizeValid(j.size,u)?d?[4,c.getImage(j)]:[3,4]:(e.maxFileSize=!0,[3,5]):(e.acceptType=!0,[3,5]):[3,4]:[3,5];case 3:if(v=a.sent(),!t.isResolutionValid(v,d,f,h))return e.resolution=!0,[3,5];a.label=4;case 4:return i+=1,[3,2];case 5:return Object.values(e).find(Boolean)?[2,e]:[2,null]}}))}))}},676:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(44),r=(n(85),n(204)),c=n(80),s=n(15),l=n(36),o=n(196),u=n(173),d=n(153),f=n(668),h=n(487),j=n(111),v=n(553),b=n(554),p=n(678),m=(n(527),n(216)),O=n(95),y=n.n(O),g=n(174),x="".concat(g.a,"/admin/linked_activites");function _(e){return y.a.get("".concat(x),{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInJvbGUiOjEsImlhdCI6MTYyMTg2NDY4OX0.CSQnjulYvsKewlUINhB__jrrsKAicXbyviVmgZ0zOYc"}})}var N=n(237),I=N.b.actions,k=function(e,t){return function(t){return t(I.startCall({callType:N.a.action})),(n=e,y.a.post("".concat(x),n,{headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInJvbGUiOjEsImlhdCI6MTYyMTg2NDY4OX0.CSQnjulYvsKewlUINhB__jrrsKAicXbyviVmgZ0zOYc"}})).then((function(e){var n=e.data;t(I.statusFetched({statusData:n}))})).catch((function(e){e.clientMessage="Can't create product",t(I.catchError({error:e,callType:N.a.action}))}));var n}},T=function(e,t){return function(t){return t(I.startCall({callType:N.a.action})),(n=e,y.a.patch("".concat(x),n,{headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInJvbGUiOjEsImlhdCI6MTYyMTg2NDY4OX0.CSQnjulYvsKewlUINhB__jrrsKAicXbyviVmgZ0zOYc"}})).then((function(e){var n=e.data;t(I.statusFetched({statusData:n}))})).catch((function(e){e.clientMessage="Can't edit activity",t(I.catchErrorFetched({error:e,callType:N.a.action}))}));var n}},w=function(e,t){return function(t){return t(I.startCall({callType:N.a.action})),function(e,t){return y.a.get("".concat(x,"/")+e,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInJvbGUiOjEsImlhdCI6MTYyMTg2NDY4OX0.CSQnjulYvsKewlUINhB__jrrsKAicXbyviVmgZ0zOYc"}})}(e).then((function(e){var n=e.data;n.success&&t(I.getLinkedActivityDataFetched({statusData:n.data}))})).catch((function(e){e.clientMessage="Can't create product",t(I.catchError({error:e,callType:N.a.action}))}))}},L=function(e){return function(e){return e(I.startCall({callType:N.a.action})),y.a.get("".concat(g.a,"/admin/activites"),{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInJvbGUiOjEsImlhdCI6MTYyMTg2NDY4OX0.CSQnjulYvsKewlUINhB__jrrsKAicXbyviVmgZ0zOYc"}}).then((function(t){var n=t.data;n.success&&e(I.getActivityDataFetched({statusData:n.data}))})).catch((function(t){t.clientMessage="Can't create product",e(I.catchError({error:t,callType:N.a.action}))}))}},C=n(2),D=d.a.Option,E={wrapperCol:{offset:8,span:16}};function A(e){var t=e.linkedactivityData,n=e.form,a=e.onFinish,r=e.handleAdd,c=e.handleRemove,l=e.textChanged,o=e.handleIdChange,u=e.inputData,v=e.activityListData,b=e.linkedName,p=e.nameChange;return Object(C.jsxs)(f.a,{initialValues:t,form:n,name:"control-hooks",onFinish:a,style:{marginTop:100},children:[Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("div",{className:"col-3"}),Object(C.jsx)("div",{className:"col-6",children:Object(C.jsx)(f.a.Item,{label:"LinkedActivity Name",rules:[{required:!0}],children:Object(C.jsx)(h.a,{style:{width:"300px"},defaultValue:b,onChange:function(e){return p(e)}})})}),Object(C.jsx)("div",{className:"col-3"})]}),Object(C.jsx)(f.a.Item,{children:Object(C.jsxs)("div",{className:"form-group row",style:{marginTop:"50px"},children:[Object(C.jsx)("div",{className:"col-2",children:Object(C.jsx)(j.a,{type:"primary",className:"mr-2",onClick:function(){return r()},children:"Add"})}),Object(C.jsx)("div",{className:"col-10 form-row",children:u.map((function(e,t){return Object(C.jsx)(i.Fragment,{children:Object(C.jsxs)("div",{className:"col-12 form-row",style:{marginTop:20},children:[Object(C.jsx)("div",{className:"col-4",children:Object(C.jsx)(h.a,{style:{width:"250px"},defaultValue:e.display_name,onChange:function(e){return l(t,e)}})}),Object(C.jsx)("div",{className:"col-4",children:Object(C.jsx)(d.a,{style:{width:"250px"},defaultValue:e.activity_id,onChange:function(e){return o(e,t)},children:null===v||void 0===v?void 0:v.map((function(e,t){return Object(C.jsx)(D,{value:e.id,children:e.activity_name},t)}))})}),Object(C.jsx)("div",{className:"col-form-label",children:Object(C.jsx)("span",{onClick:function(){return c(t)},children:Object(C.jsx)(m.a,{})})})]})},t)}))})]})}),Object(C.jsx)(f.a.Item,Object(s.a)(Object(s.a)({},E),{},{children:Object(C.jsx)(j.a,{className:"mr-2",type:"primary",htmlType:"submit",style:{float:"right"},children:"Submit"})}))]})}function S(e){var t=e.linkedactivityData,n=e.activityList,s=e.id,o=f.a.useForm(),u=Object(c.a)(o,1)[0],d=Object(i.useState)(0),h=Object(c.a)(d,2),j=h[0],v=h[1];Object(i.useEffect)((function(){v(1)}),[t]);Object(l.e)((function(e){return e.auth.authToken}),l.c);var b=Object(a.h)(),p=Object(l.d)(),m=function(e){p(T(e)).then((function(){return O()}))},O=function(){b.goBack()};Object(i.useEffect)((function(){if(null!=t){_(JSON.parse(t.linked_activties)[0].name);for(var e=JSON.parse(t.linked_activties)[0].linked_activities,n=[],i=0;i<e.length;i++){var a={};a.display_name=e[i].display_name,a.activity_id=e[i].activity_id,n.push(a)}S(n)}else _(""),S([])}),[t]);var y=Object(i.useState)(""),g=Object(c.a)(y,2),x=g[0],_=g[1],N=Object(i.useState)([]),I=Object(c.a)(N,2),k=I[0],w=I[1];Object(i.useEffect)((function(){for(var e=[],t=0;t<n.length;t++){var i={};i.id=n[t].id,i.activity_name=n[t].activity_name,e.push(i)}w(e)}),[n]);var L=Object(i.useState)([]),D=Object(c.a)(L,2),E=D[0],S=D[1];return Object(C.jsx)("div",{children:t&&1==j?Object(C.jsx)(A,{linkedactivityData:t,activityListData:k,form:u,onFinish:function(e){var t={};t.name=x,t.linked_activities=E;var n=[];n.push(t);var i={};i.linked_activties=JSON.stringify(n),i.id=s,m(JSON.stringify(i))},handleAdd:function(){var e=Object(r.a)(E);e.push({display_name:"",activity_id:0}),S(e)},handleRemove:function(e){var t=Object(r.a)(E);t.splice(e,1),S(t)},textChanged:function(e,t){var n=t.target.value,i=Object(r.a)(E);i[e].display_name=n,S(i)},handleIdChange:function(e,t){var n=e,i=Object(r.a)(E);i[t].activity_id=n,S(i)},inputData:E,linkedName:x,nameChange:function(e){var t=e.target.value;_(t)}}):Object(C.jsx)("div",{})})}var U=function(e){var t=e.match.params.id,n=(Object(l.e)((function(e){return e.auth.authToken}),l.c),Object(a.h)()),O=Object(l.d)(),y=Object(i.useState)(0),g=Object(c.a)(y,2),x=g[0],_=g[1],N=Object(l.e)((function(e){return{linkedactivityData:e.linkedactivities.linkedactivityData,activityList:e.linkedactivities.activityList}}),l.c),I=N.linkedactivityData,T=N.activityList;Object(i.useEffect)((function(){O(L()),null!=t&&(O(w(t)),_(1))}),[t]);var A=function(){n.goBack()},U=f.a.useForm(),F=Object(c.a)(U,1)[0],V=Object(i.useState)([]),J=Object(c.a)(V,2),M=J[0],X=J[1];Object(i.useEffect)((function(){for(var e=[],t=0;t<T.length;t++){var n={};n.id=T[t].id,n.activity_name=T[t].activity_name,e.push(n)}X(e)}),[T]);var R=Object(i.useState)([]),z=Object(c.a)(R,2),Y=z[0],B=z[1],P=function(e){var t=Object(r.a)(Y);t.splice(e,1),B(t)},K=function(e,t){var n=t.target.value,i=Object(r.a)(Y);i[e].display_name=n,B(i)},G=function(e,t){var n=e,i=Object(r.a)(Y);i[t].activity_id=n,B(i)};return Object(C.jsx)(v.a,{justify:"center",children:Object(C.jsx)(b.a,{span:18,children:Object(C.jsxs)(p.a,{hoverable:!0,style:{paddingRight:"4vw",paddingLeft:"4vw"},children:[Object(C.jsxs)(u.a,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:[Object(C.jsx)(u.a,{className:"mb-1",mobileFlex:!1,children:Object(C.jsx)("h2",{children:"Add LinkedActivity"})}),Object(C.jsx)("div",{children:Object(C.jsx)(j.a,{type:"primary",onClick:A,icon:Object(C.jsx)(o.a,{}),block:!0,children:"Back"})})]}),Object(C.jsxs)("div",{children:[null==t&&Object(C.jsxs)(f.a,{layout:"vertical",form:F,name:"control-hooks",onFinish:function(e){var t={};t.name=e.name,t.linked_activities=Y;var n=[];n.push(t);var i={};i.linked_activties=JSON.stringify(n),function(e){O(k(e)).then((function(){return A()}))}(JSON.stringify(i))},style:{marginTop:100},children:[Object(C.jsx)("div",{className:"form-group row",children:Object(C.jsx)(f.a.Item,{name:"name",label:"LinkedActivity Name",rules:[{required:!0}],children:Object(C.jsx)(h.a,{})})}),Object(C.jsx)(f.a.Item,{children:Object(C.jsxs)("div",{className:"form-group row",style:{marginTop:"50px"},children:[Object(C.jsx)("div",{className:"col-2",children:Object(C.jsx)(j.a,{type:"primary",className:"mr-2",onClick:function(){return function(){var e=Object(r.a)(Y);e.push({display_name:"",activity_id:0}),B(e)}()},children:"Add"})}),Object(C.jsx)("div",{style:{marginTop:"2vh"},children:Y.map((function(e,t){return Object(C.jsxs)(i.Fragment,{children:[Object(C.jsxs)(v.a,{justify:"space-between",children:[Object(C.jsx)(b.a,{span:8,children:Object(C.jsx)(h.a,{defaultValue:e.display_name,onChange:function(e){return K(t,e)}})}),Object(C.jsx)(b.a,{span:8,children:Object(C.jsx)(d.a,{defaultValue:e.activity_id,onChange:function(e){return G(e,t)},children:null===M||void 0===M?void 0:M.map((function(e,t){return Object(C.jsx)(D,{value:e.id,children:e.activity_name},t)}))})}),Object(C.jsx)(b.a,{span:1,children:Object(C.jsx)(m.a,{onClick:function(){return P(t)},style:{marginTop:"2vh"}})})]}),Object(C.jsxs)("div",{className:"col-12 form-row",style:{marginTop:20},children:[Object(C.jsx)("div",{className:"col-4"}),Object(C.jsx)("div",{className:"col-4"}),Object(C.jsx)("div",{className:"col-form-label"})]})]},t)}))})]})}),Object(C.jsx)(f.a.Item,Object(s.a)(Object(s.a)({},E),{},{children:Object(C.jsx)(j.a,{className:"mr-2",type:"primary",htmlType:"submit",style:{float:"right"},children:"Submit"})}))]}),0!=t&&I&&1==x&&Object(C.jsx)(S,{linkedactivityData:I,id:t,activityList:T})]})]})})})},F=n(666),V=n(154),J=n(511),M=n(525),X=n(55);function R(e){var t=e.linkedactivitiesList,n=Object(a.h)(),r=[{title:"ID",dataIndex:"id"},{title:"Name",dataIndex:"name",render:function(e,t){return Object(C.jsx)("div",{className:"d-flex",children:Object(C.jsx)(M.a,{name:t.name})})},sorter:function(e,t){return X.a.antdTableSorter(e,t,"name")}},{title:"Count",dataIndex:"count",render:function(e,t){return Object(C.jsx)("div",{className:"d-flex",children:Object(C.jsx)(M.a,{name:t.count})})},sorter:function(e,t){return X.a.antdTableSorter(e,t,"count")}},{title:"Edit",dataIndex:"edit",render:function(e,t){return Object(C.jsx)("div",{className:"d-flex",children:Object(C.jsx)(j.a,{onClick:function(e){return s(e,t.id)},children:"Edit"})})}}],s=function(e,t){n.push("/app/linked-activities/"+t)},l=Object(i.useState)(null),o=Object(c.a)(l,2),u=o[0],d=o[1];Object(i.useEffect)((function(){d(t)}),[t]);return Object(C.jsx)("div",{children:null!=u&&Object(C.jsx)(z,{list:u,tableColumns:r,onSearch:function(e){var n=e.currentTarget.value,i=e.currentTarget.value?u:t,a=X.a.wildCardSearch(i,n);d(a)},userAdd:function(){n.push("/app/linked-activities/new")}})})}function z(e){var t=e.list,n=e.tableColumns,i=e.onSearch,a=e.userAdd;return Object(C.jsxs)(p.a,{children:[Object(C.jsxs)(u.a,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:[Object(C.jsx)(u.a,{className:"mb-1",mobileFlex:!1,children:Object(C.jsx)("div",{className:"mr-md-3 mb-3",children:Object(C.jsx)(h.a,{placeholder:"Search",prefix:Object(C.jsx)(V.a,{}),onChange:function(e){return i(e)}})})}),Object(C.jsx)("div",{children:Object(C.jsx)(j.a,{type:"primary",onClick:a,icon:Object(C.jsx)(J.a,{}),block:!0,children:"Add"})})]}),Object(C.jsx)("div",{className:"table-responsive",children:Object(C.jsx)(F.a,{columns:n,dataSource:t,rowKey:"id"})})]})}var Y=function(){var e=Object(l.d)(),t=(Object(a.h)(),Object(i.useState)(0)),n=Object(c.a)(t,2),r=n[0],s=n[1];Object(l.e)((function(e){return e.auth.authToken}),l.c);Object(i.useEffect)((function(){e((function(e){return _().then((function(t){var n=t.data;n.success&&e(I.getLinkedActivitiesDataFetched({statusData:n.data}))})).catch((function(t){t.clientMessage="Can't create product",e(I.catchError({error:t,callType:N.a.action}))}))}))}),[]);var o=Object(l.e)((function(e){return{linkedactivitiesList:e.linkedactivities.linkedactivitiesList}}),l.c).linkedactivitiesList,u=Object(i.useState)(null),d=Object(c.a)(u,2),f=d[0],h=d[1];return Object(i.useEffect)((function(){for(var e=[],t=0;t<(null===o||void 0===o?void 0:o.length);t++){var n,i,a,r={};r.id=o[t].id,r.name=null===(n=JSON.parse(o[t].linked_activties)[0])||void 0===n?void 0:n.name,r.count=null===(i=JSON.parse(o[t].linked_activties)[0])||void 0===i||null===(a=i.linked_activities)||void 0===a?void 0:a.length,e.push(r)}h(e)}),[o]),Object(i.useEffect)((function(){s(1)}),[f]),Object(C.jsx)("div",{children:null!=f&&1==r&&Object(C.jsx)(R,{linkedactivitiesList:f})})};t.default=function(e){var t=e.match;return Object(C.jsxs)(a.e,{children:[Object(C.jsx)(a.b,{exact:!0,from:"".concat(t.url),to:"".concat(t.url,"/list")}),Object(C.jsx)(a.c,{path:"".concat(t.url,"/list"),component:Y}),Object(C.jsx)(a.c,{path:"".concat(t.url,"/new"),component:U}),Object(C.jsx)(a.c,{path:"".concat(t.url,"/:id"),component:U})]})}}}]);
//# sourceMappingURL=28.c6394a29.chunk.js.map